<form action="/order/create" method="POST" id="sign-up-form" class="form-signin">
	<h2 class="form-signin-heading">Create an order</h2>

	<% if(flash && flash.err) { %>
		<ul class="alert alert-success">
	<% Object.keys(flash.err).forEach(function(error) { %>
		<li><%- JSON.stringify(flash.err[error]) %></li>
		<% }) %>
		</ul>
	<% } %>

	<div class="control-group">
	<input type="text" id="restaurant" class="form-control" placeholder="Restaurant" name="restaurant">
	</div>

	<div class="control-group">
	<input type="text" id="order" class="form-control" placeholder="What Are You Ordering? " name="orderDescription">
	</div>

	<div class="control-group">
	<input type="text" class="form-control" placeholder="How much will you pay" name="paymentAmount"
	</div>

	<input type="submit" class="btn btn-lg btn-primary btn-block" value = "Submit Order" />
	<input type="hidden" name="_csrf" value="<%= _csrf %>" />
</form>


<script>
	$("restaurant").autocomplete({
		source: function( request, response ) {
			$.ajax({
				datatype: "json",
				type: "GET",
				url: "/foursquare/restaurants/",
				success: function(data) {
					response($.map(data , function (value, key) {
						return (key === 'id' ? {id: value} : null);
					}));
				},
				error: function(data) {
					$("#restaurant").val("ERROR");
				}
			});
		},
		select: function( event , ui ) {

		},
		minLength: 0

	});

</script>